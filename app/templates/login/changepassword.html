{% extends 'app/base.html' %}

{% block main-content %}
    <div class="container my-5 vh-100">
        <h2 class="text-center">Đổi mật khẩu <br> USER: {{request.user}}</h2>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-sm-6">
                <form action="" method="post" novalidate class="shadow p-5">
                    {% csrf_token %}
                    {% for fm in form %}
                        {{fm.label_tag}}
                        {{fm}}
                        <small class="text-danger">{{fm.errors | striptags}}</small> <br>
                    {% endfor %}
                    <button type="submit" class="btn btn-primary">Thay đổi</button>
                    {% if form.non_field_errors%}
                    {% comment %} chạy vòng lặp lỗi ngoài form {% endcomment %}
                        {%for error in form.non_field_errors%}
                            <p class="alert alert-danger my-3">{{error}}</p>
                        {%endfor%}
                    {%endif%}

                    {%if messages%}
                        {% for msg in messages%}
                            <div class="alert alert-{{msg.tags}} mt-3" role="alert">
                                {{msg}}
                            </div>
                        {%endfor%}
                    {%endif%}
                </form>
            </div>
            <div class="col-md-3">
            </div>
        </div>
    </div>
{% endblock main-content %}